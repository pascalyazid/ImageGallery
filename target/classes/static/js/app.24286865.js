(function(){"use strict";var e={3395:function(e,n,o){var t=o(9242),l=o(6423),r=o(3396);const a=(0,r._)("div",{id:"app",className:"context"},null,-1),i=(0,r._)("header",null,[(0,r._)("h1",null,"Image Gallery"),(0,r._)("p",null,"Service for uploading and hosting images with Spring Boot and Nuxt.js")],-1);function s(e,n,o,t,l,s){const u=(0,r.up)("GalleryComponent"),d=(0,r.up)("UploadComponent");return(0,r.wg)(),(0,r.iD)("main",null,[a,i,(0,r._)("main",null,[(0,r._)("button",{onClick:n[0]||(n[0]=(...e)=>s.toggleGallery&&s.toggleGallery(...e))},"Open Gallery"),(0,r._)("button",{onClick:n[1]||(n[1]=(...e)=>s.toggleUpload&&s.toggleUpload(...e))},"Upload Image"),e.showGallery?((0,r.wg)(),(0,r.j4)(u,{key:0})):(0,r.kq)("",!0),e.showUpload?((0,r.wg)(),(0,r.j4)(d,{key:1})):(0,r.kq)("",!0)])])}const u=["src","alt"];function d(e,n,o,t,l,a){return(0,r.wg)(),(0,r.iD)("main",null,[(0,r._)("ul",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.images,((n,o)=>((0,r.wg)(),(0,r.iD)("li",{key:o},[(0,r._)("img",{src:e.blobs[o],fluid:"",alt:n.desc,width:"100",height:"100"},null,8,u)])))),128))])])}o(7658);var c=o(6265),p=o.n(c),f={name:"GalleryComponent",props:{},data:()=>({images:[],blobs:[]}),async mounted(){await fetch("/api/images/list").then((e=>e.json())).then((e=>{this.images=e})),console.log(this.images);for(let e of this.images){console.log(e.id);const n={url:"/api/images/load?id="+e.id,method:"get",responseType:"blob"},o=await p().request(n);this.blobs.push(URL.createObjectURL(o.data))}},beforeUnmount(){this.blobs.forEach((({imgUrl:e})=>{URL.revokeObjectURL(e)}))}},m=o(89);const h=(0,m.Z)(f,[["render",d]]);var g=h;const y={action:"/api/images/upload",method:"POST",enctype:"multipart/form-data"},b={class:"form-control"},v=(0,r._)("label",null,"Description",-1),w={class:"form-control"},_=(0,r._)("label",null,"File",-1),U={class:"form-control"},O=(0,r._)("label",null,"Date",-1),j=(0,r._)("div",{class:"form-control"},[(0,r._)("input",{type:"submit",value:"Upload"})],-1);function k(e,n,o,l,a,i){return(0,r.wg)(),(0,r.iD)("main",null,[(0,r._)("form",y,[(0,r._)("div",b,[v,(0,r.wy)((0,r._)("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=n=>e.form.desc=n),name:"desc",id:"name",placeholder:"Description"},null,512),[[t.nr,e.form.desc]])]),(0,r._)("div",w,[_,(0,r._)("input",{type:"file",onChange:n[1]||(n[1]=(...e)=>i.handelFile&&i.handelFile(...e)),name:"file",id:"file"},null,32)]),(0,r._)("div",U,[O,(0,r.wy)((0,r._)("input",{type:"date","onUpdate:modelValue":n[2]||(n[2]=n=>e.form.date=n),name:"date",id:"date"},null,512),[[t.nr,e.form.date]])]),j])])}var x={name:"UploadComponent",props:{},data:()=>({form:{desc:"",file:"",date:""}}),methods:{upload(e){e.preventDefault();let n=new FormData;n.append("file",this.form.file),n.append("desc",this.form.desc),n.append("date",this.form.date),p().post("/api/images/upload",n,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{console.log(e)})).catch((e=>{console.log(e)})).finally((()=>{console.log("lol")}))},handelFile(e){this.form.file=e.target.files[0],console.log(this.form)}}};const C=(0,m.Z)(x,[["render",k]]);var G=C,D={name:"App",components:{UploadComponent:G,GalleryComponent:g},data:()=>({showGallery:!1,showUpload:!1}),methods:{toggleGallery(){this.showGallery=!0,this.showUpload=!1},toggleUpload(){this.showGallery=!1,this.showUpload=!0}}};const F=(0,m.Z)(D,[["render",s]]);var E=F;const S=(0,t.ri)(E);S.use(l.Z,p()),S.mount("#app")}},n={};function o(t){var l=n[t];if(void 0!==l)return l.exports;var r=n[t]={id:t,loaded:!1,exports:{}};return e[t](r,r.exports,o),r.loaded=!0,r.exports}o.m=e,function(){o.amdO={}}(),function(){var e=[];o.O=function(n,t,l,r){if(!t){var a=1/0;for(d=0;d<e.length;d++){t=e[d][0],l=e[d][1],r=e[d][2];for(var i=!0,s=0;s<t.length;s++)(!1&r||a>=r)&&Object.keys(o.O).every((function(e){return o.O[e](t[s])}))?t.splice(s--,1):(i=!1,r<a&&(a=r));if(i){e.splice(d--,1);var u=l();void 0!==u&&(n=u)}}return n}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[t,l,r]}}(),function(){o.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(n,{a:n}),n}}(),function(){o.d=function(e,n){for(var t in n)o.o(n,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){o.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){var e={143:0};o.O.j=function(n){return 0===e[n]};var n=function(n,t){var l,r,a=t[0],i=t[1],s=t[2],u=0;if(a.some((function(n){return 0!==e[n]}))){for(l in i)o.o(i,l)&&(o.m[l]=i[l]);if(s)var d=s(o)}for(n&&n(t);u<a.length;u++)r=a[u],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return o.O(d)},t=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))}();var t=o.O(void 0,[998],(function(){return o(3395)}));t=o.O(t)})();
//# sourceMappingURL=app.24286865.js.map